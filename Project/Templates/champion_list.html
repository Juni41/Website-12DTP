{% extends "layout.html" %}

{% block content %}
<!-- Search bar -->
<input type="text" id="search-input" placeholder="Search For a Champion..." class="search-input" onkeyup="filterChampions()">

<div class="scroll-container">
    <ul class="scroll-list" id="champion-list">
        {% for champion in champions %}
        <li class="champion-item" data-name="{{ champion['name'].lower() }}">
            <a href="{{ url_for('char', id=champion['id']) }}">
                <div>
                    <!-- Hover Effect For Champion Icon -->
                    <img src="{{ url_for('static', filename='images/Champion_Icons/' ~ champion['name'] ~ 'Square.png') }}" 
                         class="champion-icon" 
                         onmouseover="this.src='{{ url_for('static', filename='images/hover_Icons/' ~ champion['name'] ~ 'Square_Hover.png') }}';"
                         onmouseout="this.src='{{ url_for('static', filename='images/Champion_Icons/' ~ champion['name'] ~ 'Square.png') }}';"/> 
                    <p class="champion-name">{{ champion['name'] }}</p>
                </div>
            </a>
        </li>
        {% endfor %}
    </ul>
</div>

<!-- Filtering Javascript -->
<script>
function filterChampions() {
    const input = document.getElementById('search-input').value.toLowerCase();  // Get the search input
    const championItems = document.querySelectorAll('.champion-item'); // Get all champion items

    championItems.forEach(item => { // iterating champion item
        const name = item.getAttribute('data-name');
        if (name.startsWith(input)) {
            item.style.display = ''; // show if matches
        } else {
            item.style.display = 'none'; // hide if doesnt match
        }
    });
}
</script>
{% endblock %}
